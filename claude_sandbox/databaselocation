R FOR CLAUDE CODE â€” Unify DB Path Resolution in /start Scripts

(copy/paste below directly into Claude Code)

PR Title:

Unify All DB Path Resolution Using Schema v2 (get_db_path)

Problem

Several scripts under start/ still attempt to locate prism.db using fallback heuristics:

~/Library/CloudStorage/.../prism_data/prism.db
data/prism.db
prism.db


This results in incorrect warnings like:

Looked in:
  - ...
  - ...
  - ...


Even though the correct DB exists at:

/Users/jasonrudder/prism_data/prism.db

Required Changes
ğŸ”§ 1. Replace ALL DB path guessing logic with the official resolver:
from data.sql.db_path import get_db_path
DB_PATH = get_db_path()

ğŸ”§ 2. Update every script under start/:

check_consensus.py

check_coverage.py

check_indicator_health.py

check_families.py

data_report.py

run_coherance.py

run_correlation.py

run_full_20y_analysis.py

run_full_40y_analysis.py

run_regime_analysis.py

run_tuned.py

run_tuned_sql.py

temporal_runner.py

ANY other script using .connect("prism.db") or scanning paths

ğŸ”§ 3. Remove any blocks like:
possible_paths = [...]


and

os.path.exists(...)

ğŸ”§ 4. Replace all raw connections:
conn = sqlite3.connect("prism.db")


with:

conn = sqlite3.connect(DB_PATH)

ğŸ¯ Acceptance Criteria

No script prints â€œLooked in:â€ paths anymore.

All start scripts connect exclusively via get_db_path().

The DB used is always:

/Users/jasonrudder/prism_data/prism.db


All scripts run without user intervention or guessing logic.
